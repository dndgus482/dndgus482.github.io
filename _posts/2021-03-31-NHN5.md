---

layout: post

title: NHN 최종회고록

---



**10주동안의 정리**


처음에 10주라는 기간을 생각할 때는 정말 길 줄 알았는데 과제도 하고 교육도 듣고.. 책도 읽고 하다보니 벌써 10주가 갔습니다.
수료했으니 지금까지 어떤 것을 했고 무엇을 배웠는지 나중에 제가 읽기위해 정리해보겠습니다.


### 1주차 (사전과제)
첫 주는 원래 사전과제로 입사전에 해야하는 주차지만 코로나 등으로 돈받고 할 수 있게 되었습니다. ㅎㅎ
코드로 배우는 스프링부트 웹 프로젝트(구멍가게 코딩단 저)를 한권 받고 예제를 따라하는 과제였습니다.
스프링부트 자체가 처음이었고 맥북도 처음 써보고, 소프트웨어들을 이것저것 까는데 자꾸 안되고 해서 짜증났던 기억이납니다.
또한 이 블로그를 만드는 것도 과제였는데 그 때 귀찮아서 사이트를 좀 안꾸몄는데 이대로 가고 있습니다.

열심히 과제를 따라하고 책을 읽다보니 1주가 갔습니다.

### 2주차 (기획)
2주차부터가 사실 베이스캠프의 시작이라고 생각하면 될 것 같습니다.
앞으로 어떻게 진행될지 소개해주시고 멘토님들도 붙여주셨습니다.
2주차는 기획하는 한 주였습니다. 티켓 예매 사이트를 만드는 것인데 어떤 것을 구현해야할 지 어느정도 정해져 있었습니다.
그래도 세세한 요구사항은 정해지지 않았는데 그런 것을 짜고, 실제 사이트의 목업? 을 구현했습니다. 근데 팀원분이 html로 돌아가는 웹페이지를 만들어서
그걸로 발표도 하고 나중에 개발할 때 참고하게 되었습니다.
저희는 기린티켓이라는 뮤지컬, 콘서트, 연극 예매 사이트를 만들었는데
티켓링크, yes24를 참고해 만들었습니다 ㅎㅎ
예매가능한 공연들을 보고, 예매마감시간이 임박한 공연들은 캐러셀로 메인페이지에 게시해 실제 사이트 비스무리하게 만들었습니다.
검색도 하고 카테고리도 분류하고, 찜하기도 되고, 예매도 하고, 취소도 하고 등등 괜찮아 보이는 사이트를 기획했습니다.
다들 사이트 디자인을 너무 잘해주셨고, 로고까지 직접 만들어주셔서 다행이었습니다.


사실 이 때 기획은 다 했는데 남은시간동안 할 게 너무 없어서 계속 문서로 정리하고 편하게 여유를 가졌던 기억들이 납니다.
또 자바스크립트 책도 나눠주셨는데 재밌게 읽었습니다.

### 3주차 (교육 및 개발준비)
첫 날은 기획발표하는 시간을 가졌습니다. 또한 본격적으로 교육하는 시간을 가졌습니다. vi, html/css/js, git, 요구사항 추정기법?, 스프링, bash 등등 기초가 될만한 지식들을 배웠습니다. 또한 프로젝트 관련해 설정하고 결재문서를 만드는 시간들도 있었습니다. 이 때 배웠던 것들이 잠깐이지만 개발하는데 많은 도움이 되었습니다. 특히 git에 대해 배우지 않았다면 아마 프로젝트가 많이 꼬였을 것 같습니다... ㅋㅋ

### 4주차 (개발준비, 설날)
4주차는 설날이 껴있어서 꿀같은 한 주였습니다. HTTP 교육도 듣고 서버에 프로젝트 올려보고 하는 시간도 가졌습니다. 저는 처음에 개발을 5주차에 모두 끝내야 하는건지 몰랐는데 갑자기 다음주까지 개발을 완료하라 해서 당황했습니다. 조원들과 모여서 개발명세서도 작성하고 업무도 나눴습니다. 저희는 일단 업무를 공평하게 4분할한다음에 사다리타기로 뭐할지 결정했습니다. 저는 관리페이지, 공통 컴포넌트, 공연, 회차정보 등을 관리하는 로직들을 맡게 되었습니다.
또 DB모델링 검수요청도 했습니다. 윈도우 노트북에서 파워디자이너라는 프로그램을 썼는데 너무 짜증났던 기억이 납니다.

### 5주차 (개발)
5주차는 밤낮 구분없이 개발만 했던 한 주였습니다. 처음 저는 월요일날 칼퇴를 했습니다. 여유로울 줄 알았습니다. 하지만 제 착각이었다는 것을 화요일날 깨닫고 집에가서도 개발하고 했습니다. 개발하면서 깨달은 점들이 많았습니다.
1. 너무 무리하려 하지말고 여유를 가져야한다. 화요일~목요일 쯤은 열심히 개발하고 문제를 어떻게 해결해야할 지 생각하다보니 잠도 제대로 못잤습니다. 결국 금요일날 늦잠을 자게되고 팀원분이 전화를 주지 않았다면 저녁에 일어났을 것 같습니다. 그 이후로 개발을 해도 집중이 잘 되지 않고 졸리고, 하기 싫은 마음도 생겼습니다. 앞으로는 길게보고 잘 조절하려고 합니다.
2. 똑같은 걸 너무 오래 생각하지말고 나중에 다시 풀어본다. 아마 개발 절반의 시간은 자꾸 안되서 해결하려다 보니 시간을 많이 잡아먹었습니다. 하지만 항상 해결은 나중에 다시 생각해볼 때 풀렸습니다. 새로운 생각, 사고방식으로 다시 접근해보니까 풀리는 경우가 많았습니다. 뭐 이렇게 얘기하면 엄청난 문제인것 처럼 보이지만 단순히 스택오버플로에서 에러를 찾을 때도 계속 매달리면 답이 안보이는데 나중에 다시 해결하려 해보니까 질문내용도 색다르게 검색해볼 수 있었습니다.
3. 기초공사를 잘 하자. 상위계층이 하위계층에 의존하면 안된다, 변경이 예상되는 부분을 유연하고 확장가능하게... 라지만 과연.. 제가 짜는 코드들은 적어도 맨 처음 짤 때 그런 생각을 가지고 짠 것도 전혀 아니고 이것저것 고쳐 develop에 올리고 나중에 돌려보다 보면 버그가 항상 나왔습니다. 이런 얘기는 뭐 인터넷에서 많이 들었지만 직접 경험해보니 더 와닿는 것 같습니다. 특히 엔티티 필드 몇개 고쳤던 기억이 나는데 IDE 도움이 아니었다면 절대 고치지 못했을 겁니다. 또한 예외처리에 대한 개념이나 설정파일 관리, 빈, 테스트, 계층관리 등 기본적인 개념이 부족했고 처음부터 알고 있었다면 훨씬 수월하지 않았을까 생각합니다. 아무튼 처음 코드를 짤 때부터 많은 부분을 생각하고 신중히 짜야겠다고 생각했습니다.
4. 팀원들과 동기화를 잘 하자. 개발하면서 중간중간 어떤 부분을 변경했고 알려야 되는 상황이면 그냥 글로만 써놓거나 지나가는 말로 하는게 아니라 팀원들에게 확실히 인지를 시켜야 한다고 생각했습니다. 또 저도 팀원들이 하는 것 모두에 관심가지고 신경쓸 겨를은 없지만 알아야할 사항은 확실히 기억해둬야 한다고 생각했습니다. 왜냐면 나중에 뒷북치니까...

아무튼 겉으로는 잘 돌아가는 사이트를 만들게 되었습니다~^^ 이상한 짓만 안하면 잘 돌아가는 사이트를 만들고 서버에 올리는 것까지 발표바로전에 성공하였습니다.


### 6주차 (코드리뷰, 개선)
월요일날 지금까지 개발한 결과물을 발표하고 이제 뭐하지? 라고 생각하던 찰나에 코드리뷰와 정적분석 결과를 공유해주셨습니다. 몰랐는데 운영진분들이 저희 깃허브를 감시하고 있다가 잘못된 코드, 개선할 필요가 있는 코드들을 박제해 교육을 해주셨습니다. 제 코드라는것은 안밝히셨지만 거기에 제 코드도 있어서 조금 수치스러웠습니다. ㅎㅎ 로깅, 주석, 예외처리, 네이밍, enum, 재활용, 가독성, 유효성체크, 코드결함, 리소스 정리, 응답, 쓰레드세이프 등등 기본적으로 코드를 짜기 위해 지켜야 할 규칙들을 교육해주셨고 많이 기억에 남았습니다. 또한 테스트 짜는법에 대해 교육도 받았습니다. 이때는 몰랐지만 이후로 계속 개발하다보니 테스트가 있어야 뭔가를 수정하고 추가할 때 자신감도 생긴다는 것을 알았고, 실제로 코드 수정하고 테스트했을 때 실패가 나와 이유를 파악해보니 수정할 때 빠진 부분을 발견하게 되고 고칠 수 있었습니다.
또 팀별로 전체적인 코드리뷰도 받을 수 있었습니다. 제가 만든 코드는 리뷰를 별로 못받았지만 다른사람들 까는 것을 보면서 어떻게 개발해야할 지 대략 감을 잡을 수 있었던 것 같습니다.
또한 데이터모델링 검수결과를 받고 모델링 교육도 받았습니다. 여기서 저희 테이블구조자체는 별 지적을 안받았지만 각 필드의 이름을 수정할려고 개고생을 했던 기억이 납니다. 그 중 문자열, 프론트엔드단 코드들은 실수로 안바꾼 것들도 있어서 계속 오류가 나고 힘들었습니다.
소나큐브와 젠킨스라는 존재도 알게 되었습니다. 저희가 직접 설정한 것은 아니지만 깃허브에 올린 코드들을 자동으로 테스트해주고, 정적분석을 해 어느 부분에 결함이 있을지, 커버리지는 얼마나 되는지, 보안문제 어떤게 있을 지 등등 많은 부분을 검사해주는 시스템입니다. 처음 코드스멜이 150건?? 정도 되었는데 하나씩 고치고, 교육받은 대로 고치고, 코드리뷰 내용들 고치다 보니 한 주가 흘렀습니다. 많이 성장할 수 있었던 한 주였습니다.


### 7주차 (웹 서버 스케일 아웃)
7주차는 6주차에서 하던 리팩토링, 테스트케이스 작성들도 계속 진행했습니다. 커버리지가 60%가 나와야 한다고 해서 테스트 코드를 짜느라 진땀을 뺐습니다. 간단한 것은 간단한데 테스트하기 힘든 부분도 많이 보이게 되었고 나중에 테스트에 대해 심도있게 공부해보고 싶다는 생각이 들었습니다.
또 7주차는 웹서버 스케일아웃이라는 교육을 들었습니다. 뭘까했는데 웹서버가 2대로 늘어나면? 더 늘어나면 어떡할 건지에 대한 교육이었습니다. 이 당시 로드밸런서가 뭐하는 건지도 몰랐는데 이제는 뭐하는 놈인지는 알게 되었습니다^^ 웹서버를 두대로 늘려야 하는 이유, 나타날 수 있는 문제점들, 공유 스토리지, 로드밸런서, DSR, 무중단배포 등을 배우게 되었습니다. 이때는 그런가보다 했는데 과제들을 해보니까 더 이해할 수 있게 되었습니다.
레디스로 세션관리를 하고, 이미지 파일관리도 클라우드로 옮겼습니다. 또한 무중단배포를 위한 헬스체크 컨트롤러도 만들고 배포도 자동화하게 했습니다.
아 추가로 http 통신이 아닌 cli 요청을 위한 컨트롤러도 개발했습니다.

### 8주차 (DB 샤딩)
샤딩한다는 것은 들었지만 막상 교육을 들어보니까 정말 어려운 주제라는 것을 알게 되었습니다. 저희 서비스는 티켓디비와 계정디비가 논리적으로 분리되어 있는데 계정디비를 둘로 또 쪼개라고 과제들을 나눠주셨습니다. 샤딩할 수 있는 다양한 방법들과 셀 아키텍처에 대해 알려주셨는데 이건 구글에 검색해봐도 나오지가 않아서 당황했습니다. 아무튼 샤딩하는 과제와 (고가용성을 고려하는게 아니라 자원분산을 위해), 모든 팀들의 디비를 하나의 셀로 생각해 통신할 수 있도록 구현해보는 과제를 맡게 되었습니다. 특이한 과제였는데 작동방식을 이해하는데 시간이 걸렸습니다. 저는 secure key manager 라고 기밀정보들을 클라우드에 저장하고 사용할 수 있도록 만들었는데 다중 데이터소스에서 기밀정보들을 가져올 때 확장성이 있도록 만들려고 엄청 오래 고민을 했었습니다. 읽으라고 나눠준 객체지향 책들을 다시 보면서 고민했던 과정들이 돌아보니 기억에 남습니다.
그리고 프론트엔드 코드리뷰도 받고, 웹서버 스케일아웃에 대한 코드리뷰도 받았습니다.(8주차때했는지 잘 기억은 안납니다) 그리고 어쩌다보니 제 코드를 많이 리뷰받게 되었는데 많이 까이고 반성하는 계기가 되었습니다.
부서소개도 했습니다. 각 부서에서 와서 소개를 하고 질문도 받고 했는데 첫날은 어디로 가야할 지 고민이 많이 되었습니다. 부서를 선택하기 전 제 기준은 대용량 처리, 대규모 시스템을 경험할 수 있는 부서나 서버나 db기술에 대해 깊이 공부할 수 있을 것 같은 부서, 도메인이 재밌어보이는 부서를 생각했는데 결국 광고플랫폼으로 오게 되었습니다. 광고라는 분야는  재밌을지 사실 잘 모르겠지만 개발이나 공부는 재미있게 할 수 있을 것 같습니다.

### 9주차 (안정적인 서비스 운영)
하 이 글을 쓰기전에는 이렇게 많이 쓰게 될 줄 몰랐는데 생각해보니 10주동안 정말 한게 많은 것 같습니다. 빼먹은 부분도 있고 간략하게 쓰는데도 4명이 하다보니 이렇게 많게 되네요..
아무튼 9주차는 QA와 보안검수를 받게 되었습니다. QA는 다른 TF에서 우리TF를 공격하는 방식이었습니다. 실제 사이트에 올리면 이동작 저동작 해보고 문제점을 정리해 주었습니다. 뭐 문제점이 있다는 것은 어느정도 알았지만 중요한 버그도 있고 유저들이 불편했을 것 같은 사항들이 뭔지도 알 수 있었습니다. 안정적인 서비스 운영이라는 교육도 듣게 되었습니다. 저는 솔직히 좀 집중이 안되었지만 내용은 두고두고 봐야할 내용들을 알려주셨습니다. 백업, 로그, 품질관리, 장애 대응 및 자주 일어나는 원인들, 에러에 대한 처리방법, 모니터링 등.. 과제를 하고 나니 더 와닿게 되는 것 같습니다.
과제는 무중단배포를 위해 L4 바인딩 신청을 하고 실제 운영을 위해 스크립트들을 작성했습니다. 인프라교육도 받고, 각종 모니터링을 위해 nsight, log&crash 툴, watchdog등 을 적용했습니다. 8주차에 대한 코드리뷰도 받았습니다. 생각해보면 매번 비슷한 걸로 지적받는 것 같은데 이해하면서도 막상 코드짤 때 그러지 못하게 되는 것 같습니다.

### 10주차 (개발종료 및 운영)
사실 10주차가 되어서도 한 화요일까지는 끝내야 된다는 것을 생각 못했습니다. 계속 코드리팩토링을 하고, 개선사항을 반영하고.. 에러나면 고치고 6주차부터 10주차때까지 이 일을 쭉 해왔습니다. 수요일 점심까지도 계속 그러고 있었는데 갑자기 수요일까지 개발을 마무리하고 서비스를 올리라고 하셨습니다. 그래서 아직 반영못한것들, 고쳐야할 것들이 많았는데도 바로 배포를 했습니다. 또 보안검수결과가 나왔는데 반영을 하지 못해 아쉬웠습니다. 정말 개발은 1주지만 코드를 개선하는 것은 끝이 없다는 것을 느꼈습니다. OAuth, 네트워크 교육도 들었습니다. 그리고 목요일은 발표준비, 금요일은 최종발표를 하고 끝나버렸습니다.

### 마치며
최종발표 때 누가 베이스캠프가 이정표같다고 했는데 그말이 기억에 남습니다. 처음 입사하기 전만 해도 제가 어떤 것을 하고 싶은지 잘 몰랐었고 그 동안 이것저것 건드려봤지만 제대로 공부했던 것은 없었습니다. 이번 베이스캠프를 해보며 제가 재밌게 할 수 있는 것이 어떤 건지도 알 수 있었고, 무엇을 공부해야 할 지도 더 알 수 있게 되었습니다. 또 한 번 기획부터 서비스 종료까지의 과정을 경험해보니 시야가 더 넓어졌습니다. 하면서 깊이 있게 하지는 못했지만 베이스캠프가 아니면 생각하지 못했을 주제나 과제들도 해결해보고 더 자신감이 생기게 되었습니다. 코드리뷰도 받아보고 싶었는데 도움이 많이 되었고 블로그쓰라는 것도 할때마다 하기 정말 귀찮았는데 쓰고나니 제 자신에게 도움이 많이 되었습니다. 무엇보다도 돈을 받고 교육을 받는데 이보다 좋을 수 있을까요? ㅎㅎ


